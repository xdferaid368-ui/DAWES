{% extends 'tienda/base.html' %}


{% block title %}Productos disponibles{% endblock %}

{% block content %}

<h1>Productos disponibles</h1>

<form method="get" class="row g-3 mb-4">
    <div class="col-md-4">
        <input class="form-control" type="text" name="buscar" placeholder="Buscar"
               value="{{ request.GET.buscar }}">
    </div>

    <div class="col-md-4">
        <input class="form-control" type="text" name="marca" placeholder="Marca"
               value="{{ request.GET.marca }}">
    </div>

    <div class="col-md-2 form-check mt-2">
        <input class="form-check-input" type="checkbox" name="vip" value="1"
               {% if request.GET.vip %}checked{% endif %}>
        <label class="form-check-label">VIP</label>
    </div>

    <div class="col-md-2">
        <button class="btn btn-primary w-100" type="submit">Filtrar</button>
    </div>
</form>
<ul class="list-group">
{% for producto in productos %}
    <li class="list-group-item">
        {{ producto.nombre }} ({{ producto.modelo }}) —
        {{ producto.unidades }} unidades —
        {{ producto.precio }} €
        <a class="btn btn-sm btn-outline-primary float-end"
           href="{% url 'checkout' producto.pk %}">Ver detalle</a>
    </li>
{% endfor %}
</ul>
{% endblock %}
